---
layout:     post
title:      "SMTP邮件收发实验存档"
subtitle:   ""
date:       2020-11-19 19:10:00
author:     "xnchen"
header-img: "img/home-bg.jpg"
tags:
    - daily post
    - xjbx
---

### 参考

[SMTP commends](https://www.samlogic.net/articles/smtp-commands-reference.htm)

[SMTP的相关命令](https://www.cnblogs.com/cocowool/archive/2012/03/14/2395390.html)

### 基础SMTP指令

- HELO：发送给SMTP服务器来初始化SMTP对话
- MAIL FROM：
    1. 告诉SMTP服务器，这是一个新邮件的开始；
    2. 邮件发送方地址
- RCPT TO：
    1. 确定接受方地址。可以将一个email发送给多个接收方，只要使用多次RCPT指令
- DATA：
    - 表示开始键入邮件报文
- QUIT
    - 终止和SMTP服务器的连接

### 升级的SMTP指令

- AUTH 
    - AUTH LOGIN：使用账户密码登录服务器。账户密码的发送需要使用base64编码
    
### 实例

#### 使用telnet与邮件服务器建立连接

    (base) xnchen@MacbookAir:~$ telnet mail.fudan.edu.cn 25
    
    Trying 202.120.224.10...
    Connected to mail.fudan.edu.cn.
    Escape character is '^]'.
    220 fudan.edu.cn Anti-spam GT for Coremail System (fudan.edu.cn[20191216])
    HELO 19212020115 
    250 OK
    auth login
    334 dXNlcm5hbWU6
    MTkyMTIwMjAxMTVAZnVkYW4uZWR1LmNu
    334 UGFzc3dvcmQ6
    V0NERFouMTIzYQ==
    235 Authentication successful
    MAIL FROM:<19212020115@fudan.edu.cn>
    250 Mail OK
    RCPT TO:<853230423@qq.com>
    250 Mail OK
    DATA
    354 End data with <CR><LF>.<CR><LF>
    From: xnchen<xnchen19@fudan.edu.cn>
    Subject: Test mail 3
    To: 853230423@qq.com
    
    This is a test mail!
    Wish you a good day!
    .
    250 Mail OK queued as XAUFCgCHjNy1UbZfaIOPAQ--.7627S2
    
    421 closing transmission channel
    Connection closed by foreign host.
    
#### 接受方收到邮件：

![](../img/.2020-11-19-SMTP实验存档_images/f6f9341b.png)